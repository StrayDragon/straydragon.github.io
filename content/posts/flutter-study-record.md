---

title: Flutter学习记录
date: 2019-01-01T16:14:19+08:00
tags:
- "Flutter"
categories:
- "移动端开发"
draft: true
---

<!--more-->

# 上手/入门  A tour of Flutter

| 分类 | 标题 | 介绍 | 传送门 |
|:-:|:-:|:-:|:-:|
|UI/UX| Flutter Widget of the Week | 展示一些Widget基本功能, 超短视频,有个印象! | [地址](https://www.youtube.com/playlist?list=PLOU2XLYxmsIL0pH0zWe_ZOHgGhZ7UasUE) |
|汇总|Dart’s Flutter Framework Study|学习资料大集合,并介绍了如何在不同的页面上保持状态(BottomNavigationBar)  |[地址](https://steemit.com/utopian-io/@tensor/persisting-user-interface-state-and-building-bottom-navigation-bars-in-dart-s-flutter-framework)|


## 基本功 Dart
- [Sample Code | Dart](https://www.dartlang.org/samples)
- [Effective Dart | Dart](https://www.dartlang.org/guides/language/effective-dart)
- [Library Tour | Dart](https://www.dartlang.org/guides/libraries/library-tour)
- [konieshadow/dart-tour: Dart语言中文教程，官方文档翻译](https://github.com/konieshadow/dart-tour)


## 指引&指导 Guide


### Widget/UI输入框 InputWidget
- [Flutter键盘不遮挡输入框，保证输入框获取焦点时可见 - 吉原拉面 - CSDN博客](https://blog.csdn.net/yumi0629/article/details/81870615)


### 异步操作 Asynchronous : Future & async/await
- [[异步 Future async/await\] dart - Getting values from Future instances - Stack Overflow](https://stackoverflow.com/questions/46579358/getting-values-from-future-instances)


### JSON序列化 JSON Serialization
- [[译\]在 Flutter 中解析复杂的 JSON - 掘金](https://juejin.im/post/5b5d782ae51d45191c7e7fb3)


### 存储&读写文件 File I/O
- [Reading and Writing Files - Flutter](https://flutter.io/docs/cookbook/persistence/reading-writing-files)
- [Flutter知识点:数据存储之sqflite - Android - 掘金](https://juejin.im/entry/5b1e2451f265da6e26099ad7)
- [Flutter中的本地存储 | Flutter开发者](http://flutter.link/2018/04/13/Flutter%E4%B8%AD%E7%9A%84%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/)
	- 页面跳转 Route/Navigator/...
	- [Flutter中的路由跳转 | Flutter开发者](http://flutter.link/2018/04/02/Flutter%E4%B8%AD%E7%9A%84%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC/)


### 未分类 Others
- [[后台执行\] Executing Dart in the Background with Flutter Plugins and Geofencing](https://medium.com/flutter-io/executing-dart-in-the-background-with-flutter-plugins-and-geofencing-2b3e40a1a124)


## 工具链 DevToolsChain
- [Flutter Beta 3 新特性概览 - Android - 掘金](https://juejin.im/entry/5af3887b6fb9a07ace58df5e)


## 插件 Useful Plugin/Package


### 本地存储/持久化 Local Storage/Data Persistence
- [shared_preferences | Flutter Package](https://pub.dartlang.org/packages/shared_preferences)
- [sqflite | Flutter Package](https://pub.dartlang.org/packages/sqflite)


### 状态管理 State Management
- [flutter_redux | Flutter Package](https://pub.dartlang.org/packages/flutter_redux)


### 原生交互 Native Interaction
- [url_launcher | Flutter Package](https://pub.dartlang.org/packages/url_launcher#-readme-tab-)
- [flutter_webview_plugin | Flutter Package](https://pub.dartlang.org/packages/flutter_webview_plugin)


### 未分类 Others
- (Flutter暂时使用不了)[dartson | Dart Package](https://pub.dartlang.org/packages/dartson#-readme-tab-)


## 优秀仓库 Git Repository
- [zhujian1989/flutter_study: flutter知识点学习与实战，问题解决方案记录](https://github.com/zhujian1989/flutter_study)
- [GSYGithubAppFlutter/main.dart at master · CarGuo/GSYGithubAppFlutter](https://github.com/CarGuo/GSYGithubAppFlutter/blob/master/lib/main.dart)
- [brianegan/flutter_architecture_samples: TodoMVC for Flutter](https://github.com/brianegan/flutter_architecture_samples)
- [flutter_architecture_samples](https://github.com/brianegan/flutter_architecture_samples)
- [ice1000/code_wars_android: A mobile client for CodeWars](https://github.com/ice1000/code_wars_android)


## 学习资料参考 Study Reference
- [Asynchronous Programming: Futures | Dart](https://www.dartlang.org/tutorials/language/futures)
- [Dart 2 | Dart](https://www.dartlang.org/dart-2)
- [Dart Code - Dart & Flutter support for Visual Studio Code](https://dartcode.org/)
- [Dart: 用于创建结构化的web应用](http://www.dartlang.cc/)
- [Dart1.x 编程语言中文网 | Dart](http://dart.goodev.org/)
- [Effective Dart|Dart](https://www.dartlang.org/guides/language/effective-dart)
- [Flutter - Dart API docs](https://docs.flutter.io/)
- [Solido/awesome-flutter](https://github.com/Solido/awesome-flutter)-
- [Technical videos - Flutter](https://flutter.io/docs/resources/videos)
- [Fltr::Dart1.x](https://www.youtube.com/playlist?list=PLBbgqtDgdc_RUWUCInIqxpY--C94C6Xjh)
- [Fltr::Dart1.x](https://www.youtube.com/playlist?list=PLxU9Ryxq6p58PsNmJL70J4_7UzfSqf35n)
- [Fltr::Dart2](https://www.youtube.com/playlist?list=PLJbE2Yu2zumDqr_-hqpAN0nIr6m14TAsd)
- [Google Codelabs](https://codelabs.developers.google.com/?cat=Flutter)
- [Flutter Codelabs](https://codelabs.flutter-io.cn/)
- [flutter simple samples](https://github.com/flutter/samples/blob/master/INDEX.md)
- [Flutter 社区中文资源](https://flutter-io.cn/)
- [Flutter SDK Archive - Flutter](https://flutter.io/sdk-archive/#linux)
- [Flutter中文网](https://flutterchina.club/)
- [Testing Flutter Apps - Flutter](https://flutter.io/testing/)
- [Flutter开发者](http://flutter.link/)
- [FAQ - Flutter](https://flutter.io/faq/)
- [Flutter 布局控件完结篇 - 掘金](https://juejin.im/post/5bab35ff5188255c3272c228?utm_source=gold_browser_extension)
- [Flutter在混合项目中的构建和集成 - 掘金](https://juejin.im/post/5bac9b1de51d450e452ac1c7?utm_source=gold_browser_extension)
- [Language Tour | Dart](https://www.dartlang.org/guides/language/language-tour)
- [Newest 'flutter' Questions - Stack Overflow](https://stackoverflow.com/questions/tagged/flutter)
- [Proxy pattern - Wikipedia](https://en.wikipedia.org/wiki/Proxy_pattern)


## 素材/设计工具 Assets/Design Tools
- [Gallery](https://gallery.io/)
- [Color Tool - Material Design](https://material.io/tools/color/)
- [Theme Editor Home - Material Design](https://material.io/tools/theme-editor/)
- [The color system - Material Design](https://material.io/design/color/the-color-system.html)
- [Homepage - Material Design](https://material.io/)
- [Google Fonts](https://fonts.google.com/)
- [Noun Project - Icons for Everything](https://thenounproject.com/)
- [Beautiful Free Images & Pictures | Unsplash](https://unsplash.com/)


## 一些问题 Some Problems
- 这是陨石坑儿(未整理)
- [flutter_gallery_assets cannot use alternate storage locations · Issue #13763 · flutter/flutter](https://github.com/flutter/flutter/issues/13763)
- [Android App Gradle编译 key.properties (没有那个文件或目录)](https://github.com/konifar/droidkaigi2018-flutter/issues/64)
- [Using Flutter in China · flutter/flutter Wiki](https://github.com/flutter/flutter/wiki/Using-Flutter-in-China)


# 踩过的坑:


## BottomNavigation(底部选项卡)无法保持各个页面状态,这不符合直觉


### 方案一
- **关键类** : [PageStorageKey](https://docs.flutter.io/flutter/widgets/PageStorageKey-class.html), [PageStorageBucket](https://docs.flutter.io/flutter/widgets/PageStorageBucket-class.html)

- **示例代码** :
  - 见 [flutter_presistance_bottom_nav_tutorial](https://github.com/tensor-programming/flutter_presistance_bottom_nav_tutorial/blob/master/lib/main.dart)

- **关键代码** :
```dart
  final PageStorageBucket bucket = PageStorageBucket();
  //...
  return Scaffold(
  body: PageStorage(
    child: currentPage,
    bucket: bucket,
  ),
  //...
  PageStorage.of(context).writeState(context, b,
    identifier: ValueKey(
      '${widget.dataList[index].id}',
    ));
```

- **注意点** : 每个新的继承 `StatefulWidget` , `StatelessWidget` 或自定义Widget的新的Widget,要提供 `Key` 的构造参数并调用super(key:key),以确保框架提供相应支持
```dart

class MyWidgetOrPage extend StatelessWidget{
    MyWidgetOrPage(Key key, {...}):super(Key:key);
    //...
}

class MyWidgetOrPage extend StatefulWidget{
    MyWidgetOrPage(Key key, {...}):super(Key:key);
    //...
}

//...
```


### 方案二
- **关键类** : [AutomaticKeepAliveClientMixin](https://docs.flutter.io/flutter/widgets/AutomaticKeepAliveClientMixin-mixin.html)
- **示例代码**
  - 见 [flutter_bottomnavigationbar](https://github.com/OpenFlutter/Flutter-Notebook/tree/master/mecury_project/example/flutter_bottomnavigationbar)


### 其他方案
- **参考**
  - [StackOverFlow](https://stackoverflow.com/a/49443009/9316144)
  - [Persisting User Interface State and Building Bottom Navigation Bars in Dart's Flutter Framework](https://steemit.com/utopian-io/@tensor/persisting-user-interface-state-and-building-bottom-navigation-bars-in-dart-s-flutter-framework)
